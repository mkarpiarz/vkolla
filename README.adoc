== Manual steps
Following manual steps need to be performed before deploying OpenStack on the platform:

1. Build a deployment container.
2. Spin up the Heat stack with all the instances. Wait for it to complete creating all resources.
3. Spin up a bastion host, install OpenVPN on it, get client keys off of it, bring VPN up.
4. Generate inventory hosts.
+
-------
# /etc/kolla/scripts/generate_inventory.py /etc/kolla/inventory/vkolla/01_hosts
-------
+
5. Log into the deployment container and install Python by running these raw commands:
+
-------
# ansible -i /etc/kolla/inventory/vkolla all -m raw -a "apt-get update"
# ansible -i /etc/kolla/inventory/vkolla all -m raw -a "apt-get -y install python-dev"
-------
+
6. Bring secondary interfaces up:
+
-------
# ansible -i /etc/kolla/inventory/vkolla control,network,compute -m raw -a "ip link set ens4 up"
# ansible -i /etc/kolla/inventory/vkolla control,network,compute -m raw -a "dhclient -v ens4"
# ansible -i /etc/kolla/inventory/vkolla network -m raw -a "ip link set ens5 up"
# ansible -i /etc/kolla/inventory/vkolla network -m raw -a "dhclient -v ens5"
# ansible -i /etc/kolla/inventory/vkolla network -m raw -a "ip link set ens6 up"
-------
+
7. Bootstrap servers to install prerequisites, create config directories, etc.
+
-------
# cd /kolla/kolla-ansible/tools/
# ./kolla-ansible -i /etc/kolla/inventory/vkolla bootstrap-servers
-------
+
8. Deploy Ceph with `ceph-ansible`:
+
-------
# cd /ceph/ceph-ansible/
# ansible-playbook -i /etc/kolla/inventory/ceph site.yml
-------
+
9. Download Ceph config file and client keys for services utilising Ceph:
+
-------
# ansible-playbook -i /etc/kolla/inventory/ceph /etc/kolla/playbooks/fetch_ceph_config_and_keys.yml
-------
+
10. Deploy Kolla with Kolla-Ansible:
+
-------
# ./kolla-ansible -i /etc/kolla/inventory/vkolla deploy
-------
+
11. Post deploy, testing, etc.
+
-------
# ./kolla-ansible -i /etc/kolla/inventory/vkolla post-deploy
# source /etc/kolla/admin-openrc.sh
# /etc/kolla/scripts/populate_dev_cloud.sh
-------
